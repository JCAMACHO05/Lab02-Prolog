%EJERCICIO 1
% --- HECHOS Y CAPACIDADES (PARÁMETROS DEL PROBLEMA) ---

% Coordenadas de las ubicaciones: ubicacion(ID, X, Y).
ubicacion(orilla_inicial, 0, 5).
ubicacion(piedra1, 2, 4).
ubicacion(piedra2, 5, 6).
ubicacion(piedra3, 8, 4).
ubicacion(piedra4, 5, 0).
ubicacion(orilla_final, 10, 5).

% Capacidad de la rana: distancia máxima de salto.
salto_maximo(4.0).

siguiente_estado(pos(LugarActual), pos(LugarSiguiente)) :-
    ubicacion(LugarActual, X1, Y1),
    ubicacion(LugarSiguiente, X2, Y2),
    LugarActual \= LugarSiguiente,
    salto_maximo(Max),
    Distancia is sqrt((X2-X1)^2+(Y2-Y1)^2),
    Distancia =< Max.
  
es_meta(pos(orilla_final)).

% Caso base
dfs(EstadoActual, Camino, Camino) :-
    es_meta(EstadoActual).

% Caso recursivo
dfs(EstadoActual, Visitados, Solucion) :-
    siguiente_estado(EstadoActual, EstadoSiguiente),
    \+ member(EstadoSiguiente, Visitados),
    dfs(EstadoSiguiente,
        [EstadoSiguiente | Visitados],
        Solucion).

buscar_solucion(Solucion) :-
    EstadoInicial = pos(orilla_inicial),
    dfs(EstadoInicial, [EstadoInicial], Solucion). 
% buscar_soluciones(S)
